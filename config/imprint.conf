CONFIG_ZMK_RGB_UNDERGLOW=y

# Disable BLE PHY 2Mbps for better compatibility with some Bluetooth controllers
CONFIG_BT_CTLR_PHY_2M=n

# Increase BT transmission power for more reliable connection
CONFIG_BT_CTLR_TX_PWR_PLUS_8=y

# Battery reporting
CONFIG_BT_BAS=y
CONFIG_ZMK_BATTERY_REPORTING=y

# Split keyboard battery reporting - report both halves
CONFIG_ZMK_SPLIT_BLE_CENTRAL_BATTERY_LEVEL_FETCHING=y
CONFIG_ZMK_SPLIT_BLE_CENTRAL_BATTERY_LEVEL_PROXY=y

# Connection stability improvements
CONFIG_BT_PERIPHERAL_PREF_MIN_INT=6
CONFIG_BT_PERIPHERAL_PREF_MAX_INT=12
CONFIG_BT_PERIPHERAL_PREF_LATENCY=30
CONFIG_BT_PERIPHERAL_PREF_TIMEOUT=400

# Split keyboard stability
CONFIG_ZMK_SPLIT_BLE_CENTRAL_SPLIT_RUN_STACK_SIZE=2048