CONFIG_ZMK_RGB_UNDERGLOW=y

# Disable BLE PHY 2Mbps for better compatibility with some Bluetooth controllers
CONFIG_BT_CTLR_PHY_2M=n

# Increase BT transmission power for more reliable connection
CONFIG_BT_CTLR_TX_PWR_PLUS_8=y

# Battery reporting - only central half
CONFIG_BT_BAS=y
CONFIG_ZMK_BATTERY_REPORTING=y

# Split keyboard battery reporting - DISABLED to fix bluetoothd issues
# CONFIG_ZMK_SPLIT_BLE_CENTRAL_BATTERY_LEVEL_FETCHING=y
# CONFIG_ZMK_SPLIT_BLE_CENTRAL_BATTERY_LEVEL_PROXY=y

# Connection stability - increased resources for trackball + zip_temp_layer
# Much larger buffers to handle split communication with heavy trackball use
CONFIG_ZMK_SPLIT_BLE_CENTRAL_SPLIT_RUN_STACK_SIZE=4096
CONFIG_ZMK_SPLIT_BLE_CENTRAL_SPLIT_RUN_QUEUE_SIZE=20

# Increase BLE connection capacity
CONFIG_BT_CONN_TX_MAX=10
CONFIG_BT_L2CAP_TX_BUF_COUNT=10

# Increase system work queue to handle more events
CONFIG_SYSTEM_WORKQUEUE_STACK_SIZE=2048